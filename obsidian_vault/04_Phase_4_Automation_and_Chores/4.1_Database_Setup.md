# 4.1 Database Setup
Status: - [ ] Not Started

## Description
Set up a SQLite database for managing chores. This is the **Memory pillar** — chores persist across days and don't disappear when the bot restarts. Events live in Google Calendar; chores live here.

## Files to Create/Edit
- [ ] `src/data/db.py`
- [ ] `src/data/models.py`

## Prompt for Claude
```
You are building **LifeOS Assistant**. This module implements the **Memory pillar** — chores persist in SQLite across days, surviving bot restarts. Unlike calendar events (which live in Google Calendar), chores are local state that only LifeOS manages. Chores are added exclusively via the `/addchore` Telegram command (never from free-text parsing).

The config module at `src/config.py` has `DATABASE_PATH` (default: "data/chores.db").

Perform the following:

1. Create `src/data/models.py`:
   - Define a dataclass `Chore` with fields:
     - id: int (auto-generated)
     - name: str (e.g., "Take out trash")
     - frequency_days: int (how often in days, e.g., 7 for weekly)
     - last_done: str | None (ISO date YYYY-MM-DD, None if never done)
     - next_due: str (ISO date YYYY-MM-DD)
     - assigned_to: str (name of person responsible)
     - active: bool (default True)

2. Create `src/data/db.py`:
   - Create a class `ChoreDB`:
     - `__init__(self, db_path: str = None)`: Initialize with db_path from settings if not provided. Create the database directory if it doesn't exist. Call `_init_db()`.
     - `_init_db(self)`: Create the `chores` table if it doesn't exist with columns matching the Chore model.
     - `add_chore(self, name, frequency_days, assigned_to, start_date=None) -> Chore`: Insert a new chore. If start_date is None, use today. Calculate next_due = start_date.
     - `get_due_chores(self, date: str = None) -> list[Chore]`: Return all active chores where next_due <= date (default today).
     - `mark_done(self, chore_id: int) -> Chore`: Set last_done to today, calculate next next_due = today + frequency_days.
     - `list_all(self, active_only: bool = True) -> list[Chore]`: List all chores.
     - `delete_chore(self, chore_id: int) -> bool`: Set active = False (soft delete).

3. Use Python's built-in `sqlite3` module. Use context managers for connections.

4. Include proper error handling, logging, and type hints.

5. Add a `if __name__ == "__main__"` block that creates a sample chore for testing.
```
