# 3.1 Basic Telegram Bot
Status: - [ ] Not Started

## Description
Create the basic Telegram bot — the **single gateway to LifeOS**. Telegram is the only UI for the entire system: capture, commands, and daily briefings all flow through here. Security-first: unauthorized users are silently ignored.

## Files to Create/Edit
- [ ] `src/bot/telegram_bot.py`

## Prompt for Claude
```
You are building **LifeOS Assistant**. Telegram is the **only user interface** — it's the single gateway to the entire system. Every interaction (text capture, voice capture, chore management, daily briefings) flows through this bot. Security is critical: the bot must silently ignore unauthorized users to avoid revealing its existence.

The config module exists at `src/config.py` with a `settings` object containing `TELEGRAM_BOT_TOKEN` and `ALLOWED_USER_IDS` (a list of integer user IDs).

Create `src/bot/telegram_bot.py` with the following:

1. Use the `python-telegram-bot` library (v20+, async-based).

2. Create a function `build_app() -> Application`:
   - Build a telegram Application using `ApplicationBuilder().token(settings.TELEGRAM_BOT_TOKEN).build()`.
   - Register handlers (see below).
   - Return the application.

3. Implement these handlers:
   - `/start` command: Send a welcome message explaining what LifeOS Assistant can do.
   - `/help` command: List available commands: /today, /addchore, /chores, /done.
   - `/today` command: Placeholder that responds with "Feature coming soon" (connected to calendar in 3.3).
   - `/addchore` command: Placeholder that responds with "Feature coming soon" (wired in 3.3).
   - `/chores` command: Placeholder that responds with "Feature coming soon" (wired in 3.3).
   - `/done` command: Placeholder that responds with "Feature coming soon" (wired in 3.3).
   - Text message handler: For now, echo back the received message with a prefix "[Echo]: ".

4. **Security-first access control:**
   - Create a decorator or filter that checks `update.effective_user.id` against `settings.ALLOWED_USER_IDS`.
   - If the user is NOT authorized: **silently ignore the message**. Do NOT send "Unauthorized" or any response — the bot should not reveal its existence to strangers.
   - Apply this check to ALL handlers.

5. Create a `main()` function that builds the app and calls `app.run_polling()`.

6. Add `if __name__ == "__main__"` block that calls `main()`.

7. Include proper logging throughout. Log unauthorized access attempts (with user ID) at WARNING level for monitoring.

Use `from src.config import settings` for configuration.
```
